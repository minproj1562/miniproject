{% extends 'base.html' %}

{% block meta %}
<meta property="og:title" content="My Career Roadmap">
<meta property="og:description" content="I'm on my way to becoming a {{ career_goal }}! üöÄ Check out my career journey!">
<meta property="og:image" content="{{ url_for('static', filename='images/roadmap-preview.png') }}">
<meta property="og:url" content="{{ request.url }}">
<meta property="og:type" content="website">
{% endblock %}

{% block title %}Career Roadmap{% endblock %}

{% block styles %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Montserrat:wght@400;700&family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
<style>
        /* Updated CSS Variables for Theming */
        :root {
        /* Base Colors */
        --background-start: #0f172a;  /* Deep navy blue */
        --background-end: #1e293b;     /* Slightly lighter navy */
        
        /* Primary Gradient Colors */
        --gradient-start: #6366f1;     /* Indigo */
        --gradient-end: #8b5cf6;       /* Violet */
        
        /* Text and UI Colors */
        --text-color: #e2e8f0;         /* Light blue-gray */
        --highlight-color: #818cf8;    /* Lighter indigo */
        --secondary-highlight: #a78bfa; /* Lighter violet */
        
        /* Card Colors */
        --card-bg-start: #1e293b;      /* Dark slate */
        --card-bg-end: #334155;        /* Lighter slate */
        --card-completed-bg-start: #1e3a8a;  /* Dark blue */
        --card-completed-bg-end: #1d4ed8;    /* Royal blue */
        
        /* Timeline Colors */
        --timeline-base-start: #334155; /* Medium slate */
        --timeline-base-end: #475569;   /* Lighter slate */
    }

    [data-theme="light"] {
        /* Light Theme Colors */
        --background-start: #f8fafc;    /* Very light gray */
        --background-end: #f1f5f9;      /* Slightly darker light gray */
        
        --gradient-start: #6366f1;     /* Indigo */
        --gradient-end: #8b5cf6;       /* Violet */
        
        --text-color: #1e293b;         /* Dark slate */
        --highlight-color: #4f46e5;    /* Darker indigo */
        --secondary-highlight: #7c3aed; /* Darker violet */
        
        --card-bg-start: #ffffff;      /* Pure white */
        --card-bg-end: #f1f5f9;        /* Light gray */
        --card-completed-bg-start: #e0e7ff; /* Light blue */
        --card-completed-bg-end: #c7d2fe;   /* Lighter blue */
        
        --timeline-base-start: #cbd5e1; /* Light gray */
        --timeline-base-end: #e2e8f0;   /* Lighter gray */
    }
    /* Scoped styles with roadmap- prefix to avoid overriding */
    .roadmap-body {
        font-family: 'Poppins', sans-serif;
        background: linear-gradient(135deg, var(--background-start), var(--background-end));
        color: var(--text-color);
        margin: 0;
        padding: 80px 20px 20px;
        min-height: 100vh;
        position: relative;
        overflow-x: hidden;
    }

    /* Dynamic Background with Animated Gradient */
    .roadmap-body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(circle at 50% 50%, rgba(255, 77, 151, 0.3), transparent 70%);
        animation: roadmap-gradient-shift 15s infinite ease-in-out;
        z-index: -1;
    }

    /* Update gradient animations to use new colors */
    @keyframes roadmap-gradient-shift {
        0% { background: radial-gradient(circle at 50% 50%, rgba(99, 102, 241, 0.3), transparent 70%); }
        25% { background: radial-gradient(circle at 20% 80%, rgba(139, 92, 246, 0.3), transparent 70%); }
        50% { background: radial-gradient(circle at 80% 20%, rgba(129, 140, 248, 0.3), transparent 70%); }
        75% { background: radial-gradient(circle at 30% 30%, rgba(167, 139, 250, 0.3), transparent 70%); }
        100% { background: radial-gradient(circle at 50% 50%, rgba(99, 102, 241, 0.3), transparent 70%); }
    }

    /* Enhanced Particle Background */
    #roadmap-particles-js {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -1;
    }

    /* Floating Nebula Effect */
    .roadmap-body::after {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 900"%3E%3Cpath fill="rgba(255,77,151,0.15)" d="M0,400 Q360,300 720,400 T1440,400 V900 H0 Z"/%3E%3Cpath fill="rgba(77,255,182,0.15)" d="M0,600 Q360,500 720,600 T1440,600 V900 H0 Z"/%3E%3C/svg%3E');
        background-size: cover;
        animation: roadmap-nebula-float 20s infinite ease-in-out;
        z-index: -1;
    }

    @keyframes roadmap-nebula-float {
        0%, 100% { transform: translateY(0) scale(1); opacity: 0.7; }
        50% { transform: translateY(-30px) scale(1.05); opacity: 1; }
    }

    /* Roadmap Container with Lighter Shade and Neon Glow */
    .roadmap-container {
        max-width: 1200px;
        margin: 60px auto;
        background: linear-gradient(135deg, rgba(240, 242, 255, 0.9), rgba(220, 225, 245, 0.9));
        backdrop-filter: blur(20px);
        border-radius: 35px;
        padding: 60px;
        box-shadow: 0 25px 70px rgba(0, 0, 0, 0.2);
        position: relative;
        border: 3px solid transparent;
        animation: roadmap-neon-glow 4s infinite ease-in-out;
    }

    [data-theme="light"] .roadmap-container {
        background: linear-gradient(135deg, rgba(240, 242, 255, 1), rgba(220, 225, 245, 1)); /* Updated: Increased opacity */
        box-shadow: 0 25px 70px rgba(0, 0, 0, 0.1);
    }

    /* Update glow effects */
    @keyframes roadmap-neon-glow {
        0% { border-color: var(--highlight-color); box-shadow: 0 0 20px var(--highlight-color), 0 0 40px rgba(99, 102, 241, 0.6); }
        50% { border-color: var(--secondary-highlight); box-shadow: 0 0 20px var(--secondary-highlight), 0 0 40px rgba(139, 92, 246, 0.6); }
        100% { border-color: var(--highlight-color); box-shadow: 0 0 20px var(--highlight-color), 0 0 40px rgba(99, 102, 241, 0.6); }
    }

    /* Achievements Section */
    .roadmap-achievements {
        text-align: center;
        margin-bottom: 40px;
    }

    .roadmap-achievements h5 {
        font-family: 'Orbitron', sans-serif;
        font-size: 1.2rem;
        color: var(--highlight-color);
        text-shadow: 0 0 4px var(--highlight-color);
    }

    .badge-list {
        display: flex;
        justify-content: center;
        gap: 10px;
        flex-wrap: wrap;
    }

    /* Update badge colors */
    .badge {
        background: linear-gradient(135deg, var(--highlight-color), var(--secondary-highlight));
        background: linear-gradient(135deg, var(--highlight-color), var(--secondary-highlight));
        padding: 5px 10px;
        border-radius: 15px;
        font-size: 0.9rem;
        color: #fff;
        text-shadow: 0 0 4px #1a1a2e;
    }

    /* Progress Overview */
    .roadmap-progress-overview {
        text-align: center;
        margin-bottom: 40px;
    }

    .roadmap-progress-overview h5 {
        font-family: 'Orbitron', sans-serif;
        font-size: 1.2rem;
        color: var(--highlight-color);
        text-shadow: 0 0 4px var(--highlight-color);
    }

    .progress-circle {
        position: relative;
        display: inline-block;
    }

    .progress-ring-circle {
        transition: stroke-dashoffset 1.5s ease;
    }

    .progress-ring-circle.progress {
        stroke-dasharray: 314;
    }

    .progress-percentage {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-family: 'Orbitron', sans-serif;
        font-size: 1.5rem;
        color: var(--secondary-highlight);
        text-shadow: 0 0 4px var(--secondary-highlight);
    }

    .roadmap-progress-overview p {
        font-family: 'Montserrat', sans-serif;
        font-size: 1rem;
        color: var(--text-color);
        margin-top: 10px;
    }

    /* Quote of the Day */
    .roadmap-quote-of-the-day {
        text-align: center;
        margin-bottom: 40px;
        padding: 20px;
        background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
        border-radius: 15px;
        box-shadow: 0 5px 15px rgba(255, 77, 151, 0.3);
    }

    .roadmap-quote-of-the-day h5 {
        font-family: 'Orbitron', sans-serif;
        font-size: 1.2rem;
        color: #fff;
        text-shadow: 0 0 4px var(--highlight-color);
    }

    .roadmap-quote-of-the-day p {
        font-family: 'Montserrat', sans-serif;
        font-size: 1rem;
        font-style: italic;
        color: #fff;
        text-shadow: 0 0 4px var(--highlight-color);
    }

    /* Next Milestone Highlight */
    .roadmap-next-milestone {
        text-align: center;
        margin-bottom: 40px;
    }

    .roadmap-next-milestone h5 {
        font-family: 'Orbitron', sans-serif;
        font-size: 1.2rem;
        color: var(--highlight-color);
        text-shadow: 0 0 4px var(--highlight-color);
    }

    /* Destination Section */
    .roadmap-destination {
        text-align: center;
        padding: 20px;
        background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
        color: #fff;
        border-radius: 15px;
        margin-bottom: 40px;
        box-shadow: 0 10px 30px rgba(255, 77, 151, 0.6);
        position: relative;
        transform: perspective(1000px) rotateX(5deg);
        transition: transform 0.6s ease, box-shadow 0.6s ease;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .roadmap-destination:hover {
        transform: perspective(1000px) rotateX(0deg);
        box-shadow: 0 15px 40px rgba(255, 77, 151, 0.8);
    }

    .roadmap-destination::before {
        content: '';
        position: absolute;
        top: -20px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 2.5rem;
        background: #1a1a2e;
        border-radius: 50%;
        padding: 8px;
        box-shadow: 0 5px 10px rgba(255, 77, 151, 0.5);
        animation: roadmap-star-pulse 2s infinite;
    }

    @keyframes roadmap-star-pulse {
        0%, 100% { transform: translateX(-50%) scale(1); opacity: 0.8; }
        50% { transform: translateX(-50%) scale(1.3); opacity: 1; }
    }

    .roadmap-destination::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.2), transparent);
        animation: roadmap-holographic-shine 3s infinite;
    }

    @keyframes roadmap-holographic-shine {
        0% { transform: translateX(-100%); }
        100% { transform: translateX(100%); }
    }

    .roadmap-destination h1 {
        font-family: 'Orbitron', sans-serif;
        font-size: 2rem;
        margin-bottom: 8px;
        text-shadow: 0 2px 6px rgba(0, 0, 0, 0.4);
        animation: roadmap-neon-text 1.5s ease-in-out;
    }

    .roadmap-destination h3 {
        font-family: 'Montserrat', sans-serif;
        font-size: 1.2rem;
        font-style: italic;
        opacity: 0.9;
        animation: roadmap-neon-text 2s ease-in-out;
        margin-bottom: 10px;
    }

    @keyframes roadmap-neon-text {
        0% { opacity: 0; transform: translateY(15px); text-shadow: none; }
        100% { opacity: 1; transform: translateY(0); text-shadow: 0 0 6px #fff, 0 0 12px var(--highlight-color); }
    }

    /* Motivational Quote */
    .roadmap-motivational-quote {
        font-family: 'Montserrat', sans-serif;
        font-size: 0.9rem;
        font-style: italic;
        color: #fff;
        opacity: 0.8;
        text-shadow: 0 0 4px var(--highlight-color);
    }

    /* Filter Bar */
    .roadmap-filter-bar {
        text-align: center;
        margin-bottom: 40px;
        padding: 10px;
        background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(255, 77, 151, 0.3);
    }

    .roadmap-filter-bar label {
        font-family: 'Montserrat', sans-serif;
        font-size: 1rem;
        color: #fff;
        margin-right: 10px;
        text-shadow: 0 0 4px var(--highlight-color);
    }

    .roadmap-filter-bar select {
        padding: 8px 12px;
        font-family: 'Poppins', sans-serif;
        font-size: 1rem;
        background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
        color: #1a1a2e;
        border: 2px solid var(--highlight-color);
        border-radius: 8px;
        transition: border-color 0.3s ease, box-shadow 0.3s ease;
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
        background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="%231a1a2e" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>');
        background-repeat: no-repeat;
        background-position: right 10px center;
    }

    .roadmap-filter-bar select:hover,
    .roadmap-filter-bar select:focus {
        border-color: var(--secondary-highlight);
        box-shadow: 0 0 10px var(--secondary-highlight);
        outline: none;
    }

    .roadmap-filter-bar select option {
        background: #2a2a4e;
        color: #fff;
        font-family: 'Poppins', sans-serif;
    }

    [data-theme="light"] .roadmap-filter-bar select {
        color: #1f2937;
        background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="%231f2937" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>');
    }

    [data-theme="light"] .roadmap-filter-bar select option {
        background: #e5e7eb;
        color: #1f2937;
    }

    /* Timeline with Animated Path and Progress Fill */
    .roadmap-timeline {
        position: relative;
        padding: 50px 0;
        min-height: 400px;
        --timeline-fill: 0%; /* Initialize fill at 0% */
    }

    .roadmap-timeline::before {
        content: '';
        position: absolute;
        top: 0;
        bottom: 0;
        width: 10px;
        background: linear-gradient(to bottom, var(--timeline-base-start), var(--timeline-base-end)); /* Base path always visible */
        left: 50%;
        transform: translateX(-50%);
        z-index: 1;
    }

    .roadmap-timeline::after {
        content: '';
        position: absolute;
        top: 0;
        bottom: 0;
        width: 10px;
        background: linear-gradient(to bottom, var(--gradient-start), var(--gradient-end)); /* Filled path */
        left: 50%;
        transform: translateX(-50%);
        box-shadow: 0 0 30px rgba(77, 255, 182, 0.8), 0 0 50px rgba(255, 77, 151, 0.5);
        clip-path: inset(0 0 calc(100% - var(--timeline-fill)) 0); /* Fill from top down */
        transition: clip-path 0.5s ease;
        animation: roadmap-glow-pulse 2s infinite;
        z-index: 2;
    }

    @keyframes roadmap-glow-pulse {
        0%, 100% { box-shadow: 0 0 30px rgba(77, 255, 182, 0.8), 0 0 50px rgba(255, 77, 151, 0.5); }
        50% { box-shadow: 0 0 40px rgba(77, 255, 182, 1), 0 0 60px rgba(255, 77, 151, 0.7); }
    }

    .roadmap-timeline-item {
        padding: 20px 40px;
        position: relative;
        width: 45%;
        margin-bottom: 50px;
        animation: roadmap-slide-in 1.2s ease-in-out;
    }

    @keyframes roadmap-slide-in {
        from { opacity: 0; transform: translateX(-150px); }
        to { opacity: 1; transform: translateX(0); }
    }

    .roadmap-timeline-item:nth-child(odd) {
        left: 0;
        text-align: right;
    }

    .roadmap-timeline-item:nth-child(even) {
        left: 55%;
        text-align: left;
    }

    .roadmap-timeline-item::after {
        content: '';
        position: absolute;
        width: 30px;
        height: 30px;
        background: #1a1a2e;
        border: 5px solid var(--highlight-color);
        border-radius: 50%;
        top: 30px;
        z-index: 3;
        transition: transform 0.4s ease, border-color 0.4s ease;
    }

    .roadmap-timeline-item.completed::after {
        background: var(--secondary-highlight);
        border-color: #b6ffea;
        animation: roadmap-bounce 0.6s;
    }

    .roadmap-timeline-item:not(.completed)::after {
        animation: roadmap-pulse 2s infinite;
    }

    @keyframes roadmap-pulse {
        0%, 100% { transform: scale(1); box-shadow: 0 0 10px var(--highlight-color); }
        50% { transform: scale(1.2); box-shadow: 0 0 20px var(--highlight-color); }
    }

    @keyframes roadmap-bounce {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.4); }
    }

    .roadmap-timeline-item:nth-child(odd)::after {
        right: -15px;
    }

    .roadmap-timeline-item:nth-child(even)::after {
        left: -15px;
    }

    /* Milestone Card */
    .roadmap-milestone-card {
        background: linear-gradient(135deg, var(--card-bg-start), var(--card-bg-end));
        border-radius: 20px;
        padding: 20px;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        position: relative;
        cursor: pointer;
        color: var(--text-color);
        border: 2px solid transparent;
        animation: roadmap-card-glow 3s infinite ease-in-out;
    }

    .roadmap-milestone-card.completed {
        background: linear-gradient(135deg, var(--card-completed-bg-start), var(--card-completed-bg-end));
        border: 2px solid var(--secondary-highlight);
        box-shadow: 0 0 15px var(--secondary-highlight);
    }

    @keyframes roadmap-card-glow {
        0% { border-color: var(--highlight-color); box-shadow: 0 0 10px var(--highlight-color); }
        50% { border-color: var(--secondary-highlight); box-shadow: 0 0 20px var(--secondary-highlight); }
        100% { border-color: var(--highlight-color); box-shadow: 0 0 10px var(--highlight-color); }
    }

    .roadmap-milestone-card:hover {
        transform: scale(1.05);
        box-shadow: 0 12px 30px rgba(255, 77, 151, 0.6);
    }

    .roadmap-milestone-card.completed::after {
        content: '‚úî';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.1);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 3rem;
        color: var(--secondary-highlight);
        opacity: 0.6;
    }

    .roadmap-milestone-icon {
        font-size: 1.8rem;
        color: var(--highlight-color);
        margin-right: 20px;
        transition: transform 0.4s ease;
    }

    .roadmap-milestone-card:hover .roadmap-milestone-icon {
        transform: scale(1.3) rotate(20deg);
    }

    .roadmap-milestone-card h4 {
        margin: 0 0 10px;
        font-family: 'Orbitron', sans-serif;
        font-size: 1.4rem;
        color: var(--text-color);
        display: inline-block;
        text-shadow: 0 0 5px var(--highlight-color);
    }

    .roadmap-trophy-badge {
        font-size: 1.2rem;
        color: #ffb477;
        margin-left: 8px;
        vertical-align: middle;
    }

    .roadmap-milestone-card p {
        margin: 8px 0;
        font-size: 1rem;
        color: var(--secondary-highlight);
    }

    .roadmap-milestone-details {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.6s ease, opacity 0.6s ease;
        opacity: 0;
    }

    .roadmap-milestone-card:hover .roadmap-milestone-details {
        max-height: 200px;
        opacity: 1;
    }

    .roadmap-milestone-details p {
        font-size: 0.9rem;
        color: var(--text-color);
        margin: 15px 0 0;
    }

    .roadmap-milestone-card small {
        color: var(--highlight-color);
        font-style: italic;
        font-weight: 500;
        font-size: 0.9rem;
    }

    /* Next Steps Section */
    .roadmap-next-steps {
        margin-top: 15px;
        padding: 10px;
        background: rgba(255, 77, 151, 0.1);
        border-radius: 10px;
        font-size: 0.9rem;
        color: var(--highlight-color);
        border: 1px dashed var(--highlight-color);
    }

    .roadmap-next-steps i {
        margin-right: 8px;
    }

    /* Progress Bar with Glow */
    .roadmap-progress-bar-container {
        position: relative;
        width: 100%;
        height: 8px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 4px;
        margin-top: 8px;
        overflow: hidden;
    }

    .roadmap-progress-bar {
        height: 100%;
        background: var(--secondary-highlight);
        border-radius: 4px;
        box-shadow: 0 0 8px var(--secondary-highlight);
        width: 0;
        animation: fillProgress 1.5s ease forwards;
    }

    @keyframes fillProgress {
        to { width: var(--progress-width); }
    }

    .roadmap-progress-bar.pending {
        background: transparent;
        box-shadow: none;
        animation: none;
    }

    .roadmap-progress-text {
        position: absolute;
        top: -20px;
        right: 0;
        font-size: 0.9rem;
        color: var(--secondary-highlight);
        font-weight: 600;
    }

    .roadmap-milestone-card.completed .roadmap-progress-text {
        color: var(--secondary-highlight);
    }

    .roadmap-milestone-card:not(.completed) .roadmap-progress-text {
        color: var(--highlight-color);
    }

    /* Status Text */
    .roadmap-status {
        margin: 5px 0;
        font-size: 0.9rem;
        font-weight: 600;
    }

    .roadmap-status.completed {
        color: var(--secondary-highlight);
        text-shadow: 0 0 5px var(--secondary-highlight);
    }

    .roadmap-status.pending {
        color: var(--highlight-color);
        text-shadow: 0 0 5px var(--highlight-color);
    }

    /* Action Buttons with Neon Pulse */
    .roadmap-action-buttons {
        text-align: center;
        margin-top: 40px;
        display: flex;
        justify-content: center;
        gap: 15px;
        flex-wrap: wrap;
    }

    .roadmap-action-buttons .roadmap-btn {
        background: linear-gradient(90deg, var(--highlight-color), var(--secondary-highlight));
        border: none;
        padding: 15px 40px;
        font-family: 'Orbitron', sans-serif;
        font-size: 1.1rem;
        color: #fff;
        border-radius: 40px;
        transition: transform 0.4s ease, box-shadow 0.4s ease;
        position: relative;
        overflow: hidden;
        animation: roadmap-btn-pulse 2s infinite;
    }

    @keyframes roadmap-btn-pulse {
        0%, 100% { box-shadow: 0 0 10px var(--highlight-color); }
        50% { box-shadow: 0 0 20px var(--highlight-color), 0 0 30px var(--secondary-highlight); }
    }

    .roadmap-action-buttons .roadmap-btn::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
        transition: left 0.6s ease;
    }

    .roadmap-action-buttons .roadmap-btn:hover::before {
        left: 100%;
    }

    .roadmap-action-buttons .roadmap-btn:hover {
        transform: scale(1.12);
        box-shadow: 0 8px 25px rgba(255, 77, 151, 0.7);
    }

    /* Scroll to Top Button */
    .roadmap-scroll-top {
        position: fixed;
        bottom: 20px;
        right: 20px;
        background: linear-gradient(90deg, var(--highlight-color), var(--secondary-highlight));
        border: none;
        border-radius: 50%;
        width: 50px;
        height: 50px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #fff;
        font-size: 1.2rem;
        cursor: pointer;
        opacity: 0;
        transition: opacity 0.3s ease;
    }

    .roadmap-scroll-top.visible {
        opacity: 1;
    }

    /* Accessibility Improvements */
    .roadmap-milestone-card:focus {
        outline: 4px solid var(--highlight-color);
        outline-offset: 3px;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
        .roadmap-timeline::before,
        .roadmap-timeline::after {
            left: 20px;
            transform: none;
            width: 8px;
            z-index: 1;
        }
        .roadmap-timeline-item {
            width: 100%;
            left: 0 !important;
            text-align: left;
            padding-left: 60px;
        }
        .roadmap-timeline-item::after {
            left: 2px !important;
            right: auto !important;
        }
        .roadmap-destination h1 {
            font-size: 1.5rem;
        }
        .roadmap-destination h3 {
            font-size: 1rem;
        }
        .roadmap-milestone-card h4 {
            font-size: 1.2rem;
        }
        .roadmap-milestone-card p {
            font-size: 0.9rem;
        }
        .roadmap-action-buttons {
            flex-direction: column;
        }
        .roadmap-action-buttons .roadmap-btn {
            padding: 12px 30px;
            font-size: 1rem;
            width: 100%;
            max-width: 300px;
        }
    }

    /* Custom Tooltip Styling */
    .roadmap-custom-tooltip .tooltip-inner {
        background: linear-gradient(135deg, #ff4d97, #4dffc6);
        color: #fff;
        font-family: 'Poppins', sans-serif;
        font-size: 0.9rem;
        padding: 8px 12px;
        border-radius: 8px;
    }
    .roadmap-custom-tooltip .tooltip-arrow::before {
        border-bottom-color: #ff4d97 !important;
    }
    /* Add these styles with your other CSS */
.roadmap-theme-selector {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin: 20px 0;
    flex-wrap: wrap;
}

.roadmap-theme-btn {
    padding: 10px 20px !important;
    min-width: 100px;
}

.ocean-theme {
    background: linear-gradient(90deg, #3b82f6, #1d4ed8) !important;
}

.emerald-theme {
    background: linear-gradient(90deg, #10b981, #047857) !important;
}

.sunset-theme {
    background: linear-gradient(90deg, #f97316, #c2410c) !important;
}

.roadmap-notification {
    position: fixed;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0, 0, 0, 0.7);
    color: white;
    padding: 12px 24px;
    border-radius: 30px;
    z-index: 1000;
    animation: slide-up 0.3s ease;
}

.roadmap-notification.fade-out {
    animation: fade-out 0.5s ease forwards;
}

@keyframes slide-up {
    from { bottom: -50px; opacity: 0; }
    to { bottom: 20px; opacity: 1; }
}

@keyframes fade-out {
    from { opacity: 1; }
    to { opacity: 0; }
}
</style>
{% endblock %}

{% block content %}
<div id="roadmap-particles-js"></div>
<div class="roadmap-container">
    <!-- Achievements Section -->
    {% if (milestones | selectattr('completed') | list | length) > 0 %}
    <div class="roadmap-achievements">
        <h5>Your Achievements</h5>
        <div class="badge-list">
            {% if (milestones | selectattr('completed') | list | length) >= 1 %}
                <span class="badge">üèÜ First Milestone Achiever</span>
            {% endif %}
            {% if (milestones | selectattr('completed') | list | length) >= (milestones | length / 2) | round(0) %}
                <span class="badge">üåü Halfway Hero</span>
            {% endif %}
            {% if (milestones | selectattr('completed') | list | length) == milestones | length %}
                <span class="badge">üéâ Journey Master</span>
            {% endif %}
        </div>
    </div>
    {% endif %}

    <div class="roadmap-destination">
        <h1><i class="fas fa-flag-checkered"></i> Your Destination</h1>
        <h3>{{ career_goal }}</h3>
        <p class="roadmap-motivational-quote">"Keep pushing forward‚Äîyou‚Äôre on the right track!"</p>
    </div>

    <!-- Progress Overview -->
    <div class="roadmap-progress-overview">
        <h5>Your Progress</h5>
        <div class="progress-circle">
            <svg class="progress-ring" width="120" height="120">
                <circle class="progress-ring-circle" stroke="#1a1a2e" stroke-width="10" fill="transparent" r="50" cx="60" cy="60"/>
                <circle class="progress-ring-circle progress" stroke="#4dffc6" stroke-width="10" fill="transparent" r="50" cx="60" cy="60" stroke-dasharray="314" stroke-dashoffset="0"/>
            </svg>
            <span class="progress-percentage">{{ ((milestones | selectattr('completed') | list | length) / milestones | length * 100) | round(0) }}%</span>
        </div>
        <p>Completed {{ milestones | selectattr('completed') | list | length }} of {{ milestones | length }} milestones</p>
    </div>

    <!-- Quote of the Day -->
    <div class="roadmap-quote-of-the-day">
        <h5>Quote of the Day</h5>
        <p id="motivational-quote"></p>
    </div>

    <!-- Next Milestone Highlight -->
    {% set next_milestone = milestones | selectattr('completed', 'equalto', false) | first %}
    {% if next_milestone %}
    <div class="roadmap-next-milestone">
        <h5>Next Up: Your Next Milestone</h5>
        <div class="roadmap-milestone-card">
            <div class="d-flex align-items-center">
                <i class="fas {{ 'fa-vial' if next_milestone.type == 'test' else 'fa-code' if next_milestone.type == 'project' else 'fa-briefcase' if next_milestone.type == 'job' else 'fa-book' if next_milestone.type == 'course' else 'fa-file-alt' if next_milestone.type == 'publication' else 'fa-star' }} roadmap-milestone-icon" aria-hidden="true"></i>
                <h4>{{ next_milestone.title }}</h4>
            </div>
            <p>{{ next_milestone.description }}</p>
            <div class="roadmap-next-steps">
                <i class="fas fa-lightbulb"></i>
                {% if next_milestone.type == 'test' %}
                    Next: Complete a Skill Gap Assessment to identify areas for improvement.
                {% elif next_milestone.type == 'project' %}
                    Next: Start working on your first project to build practical skills.
                {% elif next_milestone.type == 'job' %}
                    Next: Prepare your resume and apply for entry-level positions.
                {% elif next_milestone.type == 'course' %}
                    Next: Enroll in a relevant course to gain new skills.
                {% elif next_milestone.type == 'publication' %}
                    Next: Write and publish an article or blog post to showcase your expertise.
                {% else %}
                    Next: Take the next step towards your goal!
                {% endif %}
            </div>
        </div>
    </div>
    {% endif %}

    <!-- Filter Bar -->
    <div class="roadmap-filter-bar" role="region" aria-label="Filter and Sort Milestones">
        <label for="milestone-filter">Filter Milestones: </label>
        <select id="milestone-filter" onchange="filterMilestones()">
            <option value="all">All</option>
            <option value="test">Tests</option>
            <option value="project">Projects</option>
            <option value="job">Jobs</option>
            <option value="course">Courses</option>
            <option value="publication">Publications</option>
            <option value="completed">Completed</option>
            <option value="pending">Pending</option>
        </select>
        <label for="milestone-sort" style="margin-left: 20px;">Sort By: </label>
        <select id="milestone-sort" onchange="sortMilestones()">
            <option value="date-asc">Date (Ascending)</option>
            <option value="date-desc">Date (Descending)</option>
            <option value="status">Status (Completed First)</option>
        </select>
    </div>

    <div class="roadmap-timeline">
        {% for milestone in milestones %}
            <div class="roadmap-timeline-item {{ 'completed' if milestone.completed else '' }}" data-bs-toggle="modal" data-bs-target="{{ '#roadmap-milestone-modal' + loop.index|string if milestone.completed else '' }}" data-bs-toggle="tooltip" data-bs-placement="top" title="{{ milestone.description }}" tabindex="0" aria-label="Milestone: {{ milestone.title }} - {{ 'Completed' if milestone.completed else 'Pending' }}">
                <div class="roadmap-milestone-card {{ milestone.type }}">
                    <div class="d-flex align-items-center">
                        <i class="fas {{ 'fa-vial' if milestone.type == 'test' else 'fa-code' if milestone.type == 'project' else 'fa-briefcase' if milestone.type == 'job' else 'fa-book' if milestone.type == 'course' else 'fa-file-alt' if milestone.type == 'publication' else 'fa-star' }} roadmap-milestone-icon" aria-hidden="true"></i>
                        <h4>{{ milestone.title }}{% if milestone.completed %}<i class="fas fa-trophy roadmap-trophy-badge" aria-hidden="true"></i>{% endif %}</h4>
                    </div>
                    <p>{{ milestone.description }}</p>
                    <div class="roadmap-milestone-details">
                        <p>{{ milestone.details }}</p>
                    </div>
                    <small><i class="fas fa-calendar-alt"></i> 
                        {% if milestone.date and milestone.date != "Pending" %}
                            {{ milestone.date.strftime('%Y-%m-%d') }}
                        {% else %}
                            Pending
                        {% endif %}
                    </small>
                    <p class="roadmap-status {{ 'completed' if milestone.completed else 'pending' }}">
                        {{ 'Completed' if milestone.completed else 'Pending' }}
                    </p>
                    <div class="roadmap-progress-bar-container">
                        <div class="roadmap-progress-bar {{ 'pending' if not milestone.completed else '' }}" data-width="{{ milestone.progress | default(0) }}%"></div>
                        <span class="roadmap-progress-text">{{ milestone.progress | default(0) }}%</span>
                    </div>
                    <!-- Next Steps Section -->
                    <div class="roadmap-next-steps">
                        <i class="fas fa-lightbulb"></i>
                        {% if milestone.type == 'test' and not milestone.completed %}
                            Next: Complete a Skill Gap Assessment to identify areas for improvement.
                        {% elif milestone.type == 'project' and not milestone.completed %}
                            Next: Start working on your first project to build practical skills.
                        {% elif milestone.type == 'job' and not milestone.completed %}
                            Next: Prepare your resume and apply for entry-level positions.
                        {% elif milestone.type == 'course' and not milestone.completed %}
                            Next: Enroll in a relevant course to gain new skills.
                        {% elif milestone.type == 'publication' and not milestone.completed %}
                            Next: Write and publish an article or blog post to showcase your expertise.
                        {% else %}
                            Great job! Keep up the momentum on your journey.
                        {% endif %}
                    </div>
                </div>
            </div>
            <!-- Modal for Completed Milestone -->
            {% if milestone.completed %}
            <div class="modal fade" id="roadmap-milestone-modal{{ loop.index }}" tabindex="-1" aria-labelledby="roadmap-milestone-modal-label{{ loop.index }}" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="roadmap-modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="roadmap-milestone-modal-label{{ loop.index }}">Congratulations! üéâ</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <i class="fas fa-trophy"></i>
                            <h4>{{ milestone.title }}</h4>
                            <p>You‚Äôve successfully completed this milestone on your journey to becoming a {{ career_goal }}!</p>
                            <p>{{ milestone.details }}</p>
                        </div>
                    </div>
                </div>
            </div>
            {% endif %}
        {% endfor %}
    </div>

    <div class="roadmap-action-buttons">
        <a href="{{ url_for('progress_tracking') }}" class="roadmap-btn"><i class="fas fa-arrow-left"></i> Back to Progress</a>
        <button class="roadmap-btn" onclick="shareJourney()"><i class="fas fa-share-alt"></i> Share Your Journey</button>
        <button class="roadmap-btn" onclick="toggleTheme()"><i class="fas fa-adjust"></i> Toggle Theme</button>
        <button class="roadmap-btn" onclick="celebrateAll()"><i class="fas fa-star"></i> Celebrate All Achievements</button>
        <button class="roadmap-btn" onclick="downloadRoadmap()"><i class="fas fa-download"></i> Download Roadmap</button>
        
        <!-- Theme Selector Buttons -->
        <div class="roadmap-theme-selector">
            <button onclick="setTheme('ocean')" class="roadmap-btn roadmap-theme-btn ocean-theme" title="Ocean Blue Theme">
                <i class="fas fa-water"></i> Ocean
            </button>
            <button onclick="setTheme('emerald')" class="roadmap-btn roadmap-theme-btn emerald-theme" title="Emerald Green Theme">
                <i class="fas fa-leaf"></i> Emerald
            </button>
            <button onclick="setTheme('sunset')" class="roadmap-btn roadmap-theme-btn sunset-theme" title="Sunset Orange Theme">
                <i class="fas fa-sun"></i> Sunset
            </button>
        </div>
    </div>
<button class="roadmap-scroll-top" onclick="scrollToTop()"><i class="fas fa-arrow-up"></i></button>
{% include 'notifications.html' %}
{% endblock %}

{% block scripts %}
<script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
<script>
// Enhanced Particle Background with Dynamic Colors
particlesJS('roadmap-particles-js', {
    particles: {
        number: { value: 120, density: { enable: true, value_area: 800 } },
        color: { value: ['#ff4d97', '#4dffc6', '#ffb477', '#b477ff'] }, // <-- THIS IS WHAT TO CHANGE
        shape: { type: ['circle', 'star', 'triangle', 'polygon'], polygon: { nb_sides: 5 } },
        opacity: { value: 0.7, random: true },
        size: { value: 5, random: true },
        line_linked: { enable: true, distance: 120, color: '#ffffff', opacity: 0.3, width: 1.5 },
        move: { enable: true, speed: 3, direction: 'none', random: true, straight: false, out_mode: 'out', bounce: false }
    },
    interactivity: {
        detect_on: 'canvas',
        events: { onhover: { enable: true, mode: 'bubble' }, onclick: { enable: true, mode: 'push' }, resize: true },
        modes: { bubble: { distance: 200, size: 8, duration: 2, opacity: 0.8 }, push: { particles_nb: 6 } }
    },
    retina_detect: true
});

// Confetti for Completed Milestones (No Sound)
document.addEventListener('DOMContentLoaded', () => {
    const completedMilestones = document.querySelectorAll('.roadmap-timeline-item.completed');
    completedMilestones.forEach((milestone, index) => {
        setTimeout(() => {
            const rect = milestone.getBoundingClientRect();
            confetti({
                particleCount: 250,
                spread: 120,
                origin: {
                    x: (rect.left + rect.width / 2) / window.innerWidth,
                    y: (rect.top + rect.height / 2) / window.innerHeight
                },
                colors: ['#ff4d97', '#4dffc6', '#ffb477', '#b477ff'],
                shapes: ['circle', 'star', 'triangle'],
                scalar: 1.5
            });
        }, index * 1000);
    });

    // Enable Bootstrap Tooltips with Custom Styling
    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
    var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
        return new bootstrap.Tooltip(tooltipTriggerEl, {
            customClass: 'roadmap-custom-tooltip',
            template: '<div class="tooltip roadmap-custom-tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'
        });
    });

    // Celebrate on Modal Open (No Sound)
    document.querySelectorAll('.modal').forEach(modal => {
        modal.addEventListener('shown.bs.modal', () => {
            confetti({
                particleCount: 400,
                spread: 150,
                origin: { y: 0.6 },
                colors: ['#ff4d97', '#4dffc6', '#ffb477', '#b477ff'],
                shapes: ['star', 'circle', 'triangle']
            });
        });
    });

    // Animate progress circle
    const progressCircle = document.querySelector('.progress-ring-circle.progress');
    let completedCount = "{{ milestones | selectattr('completed') | list | length }}";
    let totalCount = "{{ milestones | length or 1 }}";
    let progressPercentage = (completedCount / totalCount) * 100;
    let strokeDashOffsetValue = 314 - (314 * progressPercentage) / 100;
    progressCircle.style.strokeDashoffset = strokeDashOffsetValue;

    // Progress Timeline Animation
    const timeline = document.querySelector('.roadmap-timeline');
    let progressPercent = (completedCount / totalCount) * 100;
    console.log(`Progress: ${completedCount}/${totalCount} = ${progressPercent}%`);

    window.addEventListener('scroll', () => {
        const windowHeight = window.innerHeight;

        // Calculate how much of the timeline is in view (0 to 1)
        const timelineHeight = timelineRect.height;
        const timelineTop = timelineRect.top;
        const timelineBottom = timelineRect.bottom;

        let scrollProgress = 0;
        if (timelineTop < windowHeight && timelineBottom > 0) {
            const visibleHeight = Math.min(windowHeight, timelineBottom) - Math.max(0, timelineTop);
            scrollProgress = Math.min(1, visibleHeight / timelineHeight);
        }

        // Cap the fill based on the user's progress
        const fillPercent = Math.min(scrollProgress * 100, progressPercent);
        timeline.style.setProperty('--timeline-fill', `${fillPercent}%`);
    });

    // Initial fill
    timeline.style.setProperty('--timeline-fill', `${progressPercent}%`);

    // Animate progress bars
    document.querySelectorAll('.roadmap-progress-bar').forEach(bar => {
        const finalWidth = bar.getAttribute('data-width') || '0%';
        bar.style.setProperty('--progress-width', finalWidth);
    });

    // Motivational Quote of the Day
    const quotes = [
        "Success is the sum of small efforts, repeated day in and day out. ‚Äì Robert Collier",
        "The only way to do great work is to love what you do. ‚Äì Steve Jobs",
        "Believe you can and you're halfway there. ‚Äì Theodore Roosevelt",
        "Your limitation‚Äîit's only your imagination.",
        "Push yourself, because no one else is going to do it for you."
    ];
    const quoteElement = document.getElementById('motivational-quote');
    const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
    quoteElement.textContent = randomQuote;

    // Show/Hide Scroll to Top Button
    window.addEventListener('scroll', () => {
        const scrollTopBtn = document.querySelector('.roadmap-scroll-top');
        if (window.scrollY > 300) {
            scrollTopBtn.classList.add('visible');
        } else {
            scrollTopBtn.classList.remove('visible');
        }
    });
});

// Share Journey Function with Celebration (No Sound)
function shareJourney() {
    const completed = "{{ milestones | selectattr('completed') | list | length }}";
    const total = "{{ (milestones | length or 1) | tojson }}";
    const progress = Math.round((completed / total) * 100);
    const text = `I'm on my way to becoming a {{ career_goal }}! üöÄ I've completed ${completed} out of ${total} milestones (${progress}%). Check out my career roadmap! #CareerJourney`;
    
    if (navigator.share) {
        navigator.share({
            title: 'My Career Roadmap',
            text: text,
            url: window.location.href
        }).then(() => {
            confetti({
                particleCount: 200,
                spread: 100,
                colors: ['#ff4d97', '#4dffc6', '#ffb477', '#b477ff']
            });
        }).catch(err => console.log('Error sharing:', err));
    } else {
        navigator.clipboard.writeText(text + ' ' + window.location.href).then(() => {
            alert('Journey summary copied to clipboard! Share it with your friends!');
            confetti({
                particleCount: 200,
                spread: 100,
                colors: ['#ff4d97', '#4dffc6', '#ffb477', '#b477ff']
            });
        });
    }
}

// Theme Toggle Function
function toggleTheme() {
    const root = document.documentElement;
    const currentTheme = root.getAttribute('data-theme');
    if (currentTheme === 'light') {
        root.setAttribute('data-theme', 'dark');
    } else {
        root.setAttribute('data-theme', 'light');
    }
}

// Filter Milestones Function
function filterMilestones() {
    const filter = document.getElementById('milestone-filter').value;
    const items = document.querySelectorAll('.roadmap-timeline-item');

    items.forEach(item => {
        const type = item.querySelector('.roadmap-milestone-card').classList[1];
        const status = item.classList.contains('completed') ? 'completed' : 'pending';

        if (filter === 'all') {
            item.style.display = 'block';
        } else if (filter === 'completed' || filter === 'pending') {
            item.style.display = (status === filter) ? 'block' : 'none';
        } else {
            item.style.display = (type === filter) ? 'block' : 'none';
        }
    });
}

// Sort Milestones Function
function sortMilestones() {
    const sort = document.getElementById('milestone-sort').value;
    const timeline = document.querySelector('.roadmap-timeline');
    const items = Array.from(document.querySelectorAll('.roadmap-timeline-item'));

    items.sort((a, b) => {
        const dateA = a.querySelector('small').textContent.trim();
        const dateB = b.querySelector('small').textContent.trim();
        const statusA = a.classList.contains('completed') ? 1 : 0;
        const statusB = b.classList.contains('completed') ? 1 : 0;

        if (sort === 'date-asc') {
            if (dateA === 'Pending') return 1;
            if (dateB === 'Pending') return -1;
            return new Date(dateA) - new Date(dateB);
        } else if (sort === 'date-desc') {
            if (dateA === 'Pending') return -1;
            if (dateB === 'Pending') return 1;
            return new Date(dateB) - new Date(dateA);
        } else if (sort === 'status') {
            return statusB - statusA;
        }
    });

    timeline.innerHTML = '';
    items.forEach(item => timeline.appendChild(item));
    filterMilestones();
}

// Scroll to Top Function
function scrollToTop() {
    window.scrollTo({ top: 0, behavior: 'smooth' });
}

// Celebrate All Achievements Function
function celebrateAll() {
    confetti({
        particleCount: 500,
        spread: 180,
        origin: { y: 0.6 },
        colors: ['#ff4d97', '#4dffc6', '#ffb477', '#b477ff'],
        shapes: ['star', 'circle', 'triangle']
    });
}

// Download Roadmap as PDF
function downloadRoadmap() {
    const element = document.querySelector('.roadmap-container');
    const opt = {
        margin: 0.5,
        filename: 'MyCareerRoadmap.pdf',
        image: { type: 'jpeg', quality: 0.98 },
        html2canvas: { scale: 2 },
        jsPDF: { unit: 'in', format: 'letter', orientation: 'portrait' }
    };
    html2pdf().set(opt).from(element).save();
}
/* Add these functions with your other JavaScript */
function setTheme(themeName) {
    const root = document.documentElement;
    let particleColors = [];
    
    localStorage.setItem('roadmapTheme', themeName);
    
    if (themeName === 'ocean') {
        root.style.setProperty('--gradient-start', '#3b82f6');
        root.style.setProperty('--gradient-end', '#1d4ed8');
        root.style.setProperty('--highlight-color', '#60a5fa');
        root.style.setProperty('--secondary-highlight', '#93c5fd');
        root.style.setProperty('--card-completed-bg-start', '#1e3a8a');
        root.style.setProperty('--card-completed-bg-end', '#1d4ed8');
        particleColors = ['#3b82f6', '#2563eb', '#1d4ed8', '#60a5fa'];
        
    } else if (themeName === 'emerald') {
        root.style.setProperty('--gradient-start', '#10b981');
        root.style.setProperty('--gradient-end', '#047857');
        root.style.setProperty('--highlight-color', '#34d399');
        root.style.setProperty('--secondary-highlight', '#6ee7b7');
        root.style.setProperty('--card-completed-bg-start', '#065f46');
        root.style.setProperty('--card-completed-bg-end', '#047857');
        particleColors = ['#10b981', '#059669', '#047857', '#34d399'];
        
    } else if (themeName === 'sunset') {
        root.style.setProperty('--gradient-start', '#f97316');
        root.style.setProperty('--gradient-end', '#c2410c');
        root.style.setProperty('--highlight-color', '#fb923c');
        root.style.setProperty('--secondary-highlight', '#fdba74');
        root.style.setProperty('--card-completed-bg-start', '#9a3412');
        root.style.setProperty('--card-completed-bg-end', '#c2410c');
        particleColors = ['#f97316', '#ea580c', '#c2410c', '#fb923c'];
    }
    
    if (window.pJSDom && window.pJSDom.length > 0) {
        window.pJSDom[0].pJS.particles.color.value = particleColors;
        window.pJSDom[0].pJS.fn.particlesRefresh();
    }
    
    showNotification(`Theme changed to ${themeName.charAt(0).toUpperCase() + themeName.slice(1)}!`);
}

function showNotification(message) {
    const notification = document.createElement('div');
    notification.className = 'roadmap-notification';
    notification.textContent = message;
    document.body.appendChild(notification);
    
    setTimeout(() => {
        notification.classList.add('fade-out');
        setTimeout(() => notification.remove(), 500);
    }, 2000);
}

// Load saved theme when page loads
document.addEventListener('DOMContentLoaded', () => {
    const savedTheme = localStorage.getItem('roadmapTheme');
    if (savedTheme) {
        setTheme(savedTheme);
    }
});
</script>
{% endblock %}