{% extends "base.html" %}
{% block title %}Career Details - Courses in India{% endblock %}
{% block extra_head %}
<style>
  .search-container {
      display: flex;
      justify-content: center;
      margin-bottom: 20px;
  }
  .search-container input {
      width: 60%;
      padding: 12px;
      border: 2px solid #007BFF;
      border-radius: 25px;
      font-size: 1em;
      outline: none;
  }
  .search-container button {
      padding: 10px;
      border: 1px solid #ccc;
      border-left: none;
      border-radius: 0 5px 5px 0;
      background-color: #3498db;
      color: white;
      cursor: pointer;
  }
  .search-container button:hover {
      background-color: #2980b9;
  }
  .degree-list {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 1rem;
  }
  .degree-item {
      background: #f8fafc;
      border: 1px solid #e2e8f0;
      padding: 1rem;
      border-radius: 8px;
      color: #2c5282;
      text-decoration: none;
      transition: background-color 0.3s ease;
  }
  .degree-item:hover {
      background-color: #e2e8f0;
  }
  .degree-item h2 {
      font-size: 1.2rem;
      margin-bottom: 0.5rem;
  }
  .degree-item p {
      font-size: 0.9rem;
      margin-bottom: 1rem;
  }
  .reviews {
      font-size: 0.8rem;
      color: #555;
  }
  .review {
      margin-bottom: 0.5rem;
  }
  .rating {
      color: #f39c12;
  }
  .user {
      font-weight: bold;
  }
  .comment {
      margin-left: 0.5rem;
  }
</style>
{% endblock %}
{% block content %}
<h1>Career Details - Courses Offered in India</h1>
<div class="search-container">
  <input type="text" id="searchInput" placeholder="Search for courses...">
  <button onclick="filterDegrees()">Search</button>
</div>
<div class="degree-list" id="degree-list"></div>
<p id="no-results" style="display:none; color:red;">No degrees found.</p>
{% endblock %}
{% block extra_scripts %}
<script>
  const courses = [
    {
      title: "Computer Science Engineering",
      description: "Focuses on software development, algorithms, and computer systems. Specializations include AI, Machine Learning, and Data Science.",
      link: "https://www.shiksha.com/engineering/computer-science-engineering-chp",
      icon: "fas fa-laptop",
      reviews: [
        { user: "Rahul", rating: 4.5, comment: "Great course with excellent faculty." },
        { user: "Priya", rating: 5, comment: "Highly recommended for aspiring software engineers." }
      ]
    },
    // ... (include all course objects as in your original code)
  ];

  function displayDegrees(degrees) {
      const degreeList = document.getElementById("degree-list");
      degreeList.innerHTML = "";
      degrees.forEach(degree => {
        const degreeItem = document.createElement("a");
        degreeItem.className = "degree-item";
        degreeItem.href = degree.link;
        degreeItem.target = "_blank";
        degreeItem.innerHTML = `
          <h2><i class="${degree.icon}"></i> ${degree.title}</h2>
          <p>${degree.description}</p>
          <div class="reviews">
            ${degree.reviews.map(review => `
              <div class="review">
                <div class="rating">${'★'.repeat(Math.floor(review.rating))}${'☆'.repeat(5 - Math.floor(review.rating))}</div>
                <div class="user">${review.user}:</div>
                <div class="comment">${review.comment}</div>
              </div>
            `).join('')}
          </div>
        `;
        degreeList.appendChild(degreeItem);
      });
  }

  function filterDegrees() {
      const searchInput = document.getElementById("searchInput").value.toLowerCase();
      const degreeItems = document.querySelectorAll(".degree-item");
      let found = false;
      degreeItems.forEach(item => {
        const text = item.textContent.toLowerCase();
        if (text.includes(searchInput)) {
          item.style.display = "";
          found = true;
        } else {
          item.style.display = "none";
        }
      });
      document.getElementById("no-results").style.display = found ? "none" : "block";
  }

  document.addEventListener('DOMContentLoaded', (event) => {
      displayDegrees(courses);
  });
</script>
{% endblock %}
